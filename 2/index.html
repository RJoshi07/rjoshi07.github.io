<!DOCTYPE html>
<html lang="en">
<head>
    <title>My Portfolio</title>
    <link rel="stylesheet" href="../styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        /* Ensure Section 3 images are scaled down to fit */
        .image-grid img {
        max-width: 100%;
        height: auto;
        display: block;
        }
        .image-grid.cols-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
        }
        .image-grid figure {
        margin: 0;
        text-align: center;
        }
        </style>
</head>
<body>

<header>
    <nav>
        <h1>My Portfolio</h1>
        <ul class="nav-links">
            <li><a href="../../index.html">Home</a></li>
            <li class="dropdown">
                <a href="#">Projects â–¾</a>
                <div class="dropdown-content">
                    <a href="../0/index.html">Project 0</a>
                    <a href="../1/index.html">Project 1</a>
                </div>
            </li>
        </ul>
    </nav>
</header>

<main>
    <h1>Project 1</h1>
    <section class="project-section">
        <h2>1.1 Convolutions From Scratch!</h2>
        <p>
            In this section I implemented the 2D Convolution Function with 4 loops, and then with 2 loops. The following the results of those, as well as the reuslt of scipy.signal.conv2d. I convolved an image of myself with a 9 x 9 box filter. 
        </p>
        <br>
        <pre><code>
            def convolve_4_loops(img, filter):
                filter = filter[::-1, ::-1]
                pad_w = filter.shape[0]//2
                pad_h = filter.shape[1]//2
                img = np.pad(img, pad_width=((pad_w, pad_w), (pad_h, pad_h)), mode='constant', constant_values=0)

                output_r = img.shape[0] - filter.shape[0] + 1
                output_c = img.shape[1] - filter.shape[1] + 1


                output = np.zeros((output_r, output_c))
                for start_r in range(output_r):
                    for start_c in range(output_c):
                        dot_prod = 0
                        for r in range(filter.shape[0]):
                            for c in range(filter.shape[1]):
                                dot_prod += filter[r][c] * img[start_r + r][start_c + c]
                        output[start_r][start_c] = dot_prod
                return output


            def convolve_2_loops(img, filter, pad = 0):
                filter = filter[::-1, ::-1]
                pad_w = filter.shape[0]//2
                pad_h = filter.shape[1]//2
                img = np.pad(img, pad_width=((pad_w, pad_w), (pad_h, pad_h)), mode='constant', constant_values=0)
                
                output_r = img.shape[0] - filter.shape[0] + 1
                output_c = img.shape[1] - filter.shape[1] + 1


                output = np.zeros((output_r, output_c))
                for start_r in range(output_r):
                    for start_c in range(output_c):
                        dot_prod = np.sum(filter * img[start_r:start_r+filter.shape[0], start_c:start_c+filter.shape[1]])
                        output[start_r][start_c] = dot_prod
                return output
        </code></pre>
        <div class="image-row">
            <figure>
                <img src="../2/me_box_1.png" alt="Photo 3">
                <figcaption>
                    <span class="main-caption">4 Loops</span><br>
                    <span class="sub-caption">Runtime: 2m 32.3s</span>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/me_box_2.png" alt="Photo 3">
                <figcaption>
                    <span class="main-caption">2 Loops</span><br>
                    <span class="sub-caption">Runtime: 15.2s</span>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/me_box_3.png" alt="Photo 3">
                <figcaption>
                    <span class="main-caption">SciPy</span><br>
                    <span class="sub-caption">Runtime: 0.6s</span>
                </figcaption>
            </figure>
        </div>
        <br>
        <p>
            For padding, I handled it the same way SciPy does when the mode = "same" (i.e. the output should be the same size as the input). This means, I calculated the horizontal padding as (P-1)/2 and the vertical padding as (Q-1)/2. This ensures that the output is the same size as the first image I pass in. 

            For runtime, I noticed that the runtime of my method with 4 loops is much slower than my 2 loops method, which is slightly slower than the SciPy method. This makes sense, because using NumPy for some of the matrix calculations is sure to be faster, since it can parallelize many of the operations, and SciPy's built-in function is sure to be optimized. 
        </p>

        <br>
        <h3>Convolving With Different Filters</h3>
        <div class="image-row">
            <figure>
                <img src="../2/me_box_1.png" alt="Photo 3">
                <figcaption>
                    <span class="main-caption">9 x 9 Box Filter</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/me_dx.png" alt="Photo 3">
                <figcaption>
                    <span class="main-caption">Dx</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/me_dy.png" alt="Photo 3">
                <figcaption>
                    <span class="main-caption">Dy</span><br>
                </figcaption>
            </figure>
        </div>
    </section>

    <section class="project-section">
        <h2>1.2 Finite Difference Operator</h2>
        <p>
            For this section, I convolved the cameraman image with the Dx and Dy filters and used that to compute the gradient. From there, I played around with a cutoff to produce a relatively clean image of the cameraman edges. I was looking for a good balance of reduced noise (which I especially saw in the form of dots towards the bottom of the image) and a clear image of the cameraman (making the threshold too large resulted in the edges breaking and not forming a clear picture).
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/cameraman.png" alt="cameraman">
                <figcaption>
                    <span class="main-caption">Original Image</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cameraman_dx.png" alt="cameraman_dx">
                <figcaption>
                    <span class="main-caption">Convolved with Dx</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cameraman_dy.png" alt="cameraman_dy">
                <figcaption>
                    <span class="main-caption">Convolved with Dy</span><br>
                </figcaption>
            </figure>

            <figure>
                <img src="../2/cameraman_gradient.png" alt="cameraman_gradient">
                <figcaption>
                    <span class="main-caption">Gradient</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cameraman_edges.png" alt="cameraman_edges">
                <figcaption>
                    <span class="main-caption">Edges</span><br>
                </figcaption>
            </figure>
        </div>
    </section>

    <section class="project-section">
        <h2>1.3 Derivative of Gaussian (DoG) Filter</h2>
        <p>
            In this section, I blurred the cameraman image with a Gaussian filter before repeating the process from 1.2. I notice that this time, the gradient appears a little thicker, which allows the final step to capture the edges much better without picking up noise (which kind of goes away due to blurring)
        </p>
        <br>

        <h2></h2>
        <div class="image-row">
            <figure>
                <img src="../2/cameraman_blurred.png" alt="cameraman_blurred">
                <figcaption>
                    <span class="main-caption">Blurred Image</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cameraman_new_gradient_1.png" alt="cameraman_new_gradient_1">
                <figcaption>
                    <span class="main-caption">Gradient</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cameraman_new_edges_1.png" alt="cameraman_new_edges_1">
                <figcaption>
                    <span class="main-caption">Edges</span><br>
                </figcaption>
            </figure>
        </div>
        <br>
        <p>
            I then repeated the same process except this time, instead of blurring the image itself with the Gaussian, I convolved the Gaussian itself with Dx and Dy before convolving the image with the Gaussian. This produced the same result. 
        </p>
        <br>

        <h2></h2>
        <div class="image-row">
            <figure>
                <img src="../2/cameraman_new_gradient_2.png" alt="cameraman_new_gradient_2">
                <figcaption>
                    <span class="main-caption">Gradient using DoG</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cameraman_new_edges_2.png" alt="cameraman_new_edges_2">
                <figcaption>
                    <span class="main-caption">Edges using DoG</span><br>
                </figcaption>
            </figure>
        </div>
    </section>

    <section class="project-section">
        <h2>2.1 Image "Sharpening"</h2>
        <p>
            In this section, I implemented the unsharp mask filter. To do this, I first convolved an image of the Taj Mahal with a gaussian filter. This essentially removes the high frequencies from the image. Then, to get just the high frequencies, I subtracted the blurred Taj Mahal from the original. Finally, I multipled the high frequency image by an alpha value and added it back to the original image to produce a sharper image. 
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/taj.jpg" alt="taj">
                <figcaption>
                    <span class="main-caption">Original Image</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/taj_blurred.png" alt="taj_blurred">
                <figcaption>
                    <span class="main-caption">Blurred Taj Mahal</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/taj_high_freqs.png" alt="taj_high_freqs">
                <figcaption>
                    <span class="main-caption">High Frequencies</span><br>
                </figcaption>
            </figure>

            <figure>
                <img src="../2/taj_boosted_0.5.png" alt="taj_boosted_0.5">
                <figcaption>
                    <span class="main-caption">Boosted</span><br>
                    <span class="sub-caption">alpha = 0.5</span>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/taj_boosted_1.png" alt="taj_boosted_1">
                <figcaption>
                    <span class="main-caption">Boosted</span><br>
                    <span class="sub-caption">alpha = 1</span>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/taj_boosted_3.png" alt="taj_boosted_3">
                <figcaption>
                    <span class="main-caption">Boosted</span><br>
                    <span class="sub-caption">alpha = 3</span>
                </figcaption>
            </figure>
        </div>
        <br>
        <p> 
            I also experimented with different alpha values to test the sharpening effect. Smaller alphas yield results similar to the original image, while alpha values that are too large yield unnatural results. 
        </p>
        <br>
        <p>
            I also repeated the same process on this image of the Eiffel Tower!
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/eiffel.jpg" alt="eiffel">
                <figcaption>
                    <span class="main-caption">Original Image</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/eiffel_blurred.png" alt="eiffel_blurred">
                <figcaption>
                    <span class="main-caption">Blurred Eiffel Tower</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/eiffel_high_freqs.png" alt="eiffel_high_freqs">
                <figcaption>
                    <span class="main-caption">High Frequencies</span><br>
                </figcaption>
            </figure>  
            <figure>
                <img src="../2/eiffel_boosted.png" alt="eiffel_boosted">
                <figcaption>
                    <span class="main-caption">Eiffel Tower Boosted</span><br>
                    <span class="sub-caption">alpha = 1</span>
                </figcaption>
            </figure>  
        </div>

    </section>

    <section class="project-section">
        <h2>2.2 Hybrid Images"</h2>
        <p>
            In this section, I created hybrid images! I started off my aligning my images using the starter code. I had to manually find points to align on and then plug them into the alignment functions. For all 3 hybrid images I did, my images had eyes, so I chose those points to align on. 
            Then, I chose one image to be the "low-frequency" image. To this image, I applied a Gaussian filter with sigma = 10. The size of the filter is then calculated as 6 * sigma + 1. Then, to the other image, I applied the same Gaussian filter, but this time, subtracted the low frequency image from the origial to get the high frequency version of the image. Finally I stacked the images by taking their average. 
            I did some trial and error to find the right sigma, but I felt that this choice balanced the visibility of the high frequency image and how much it covered up the low frequency image. 
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/hybrid_python/nutmeg.jpg" alt="nutmeg">
                <figcaption>
                    <span class="main-caption">Original Nutmeg</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cat_aligned.png" alt="cat_aligned">
                <figcaption>
                    <span class="main-caption">Nutmeg Aligned</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cat_fft_1.png" alt="cat_fft_1">
                <figcaption>
                    <span class="main-caption">Nutmeg FFT</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/hybrid_python/DerekPicture.jpg" alt="DerekPicture">
                <figcaption>
                    <span class="main-caption">Original Derek</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/derek_aligned.png" alt="derek_aligned">
                <figcaption>
                    <span class="main-caption">Derek Aligned</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/derek_fft_1.png" alt="derek_fft_1">
                <figcaption>
                    <span class="main-caption">Derek FFT</span><br>
                </figcaption>
            </figure>
        </div>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/low_pass_derek.png" alt="low_pass_derek">
                <figcaption>
                    <span class="main-caption">Low-Pass Filtered Derek</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/derek_fft_2.png" alt="derek_fft_2">
                <figcaption>
                    <span class="main-caption">Low-Pass Filtered Derek FFT</span><br>
                </figcaption>
            </figure> 
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/high_pass_cat.png" alt="high_pass_cat">
                <figcaption>
                    <span class="main-caption">High-Pass Filtered Nutmeg</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/cat_fft_2.png" alt="cat_fft_2">
                <figcaption>
                    <span class="main-caption">High-Pass Filtered Nutmeg FFT</span><br>
                </figcaption>
            </figure> 
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/derek_x_nutmeg.png" alt="derek_x_nutmeg">
                <figcaption>
                    <span class="main-caption">Hybrid Derek x Nutmeg</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/final_fft.png" alt="final_fft">
                <figcaption>
                    <span class="main-caption">Hybrid FFT</span><br>
                </figcaption>
            </figure> 
        </div>
        <br>
        <p>
            I also created a hybrid image of Lorelai and Rory Gilmore from the show Gilmore Girls!
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/rory.png" alt="rory">
                <figcaption>
                    <span class="main-caption">Rory Gilmore</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/lorelai.png" alt="lorelai">
                <figcaption>
                    <span class="main-caption">Lorelai Gilmore</span><br>
                </figcaption>
            </figure> 
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/high_pass_rory.png" alt="high_pass_rory">
                <figcaption>
                    <span class="main-caption">High-Pass Filtered Rory Gilmore</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/low_pass_lorelai.png" alt="low_pass_lorelai">
                <figcaption>
                    <span class="main-caption">Low-Pass Filtered Lorelai Gilmore</span><br>
                </figcaption>
            </figure> 
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/roryxlor.png" alt="roryxlor">
                <figcaption>
                    <span class="main-caption">Hybrid Rory x Lorelai</span><br>
                </figcaption>
            </figure>
        </div>
        <p>
            And finally, a hybrid of my pet cat Merlin, and my friend's dog Pandy!
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/merlin.png" alt="merlin">
                <figcaption>
                    <span class="main-caption">Merlin</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/pandy.png" alt="pandy">
                <figcaption>
                    <span class="main-caption">Pandy</span><br>
                </figcaption>
            </figure> 
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/high_pass_merlin.png" alt="high_pass_merlin">
                <figcaption>
                    <span class="main-caption">High-Pass Filtered Merlin</span><br>
                </figcaption>
            </figure>
            <figure>
                <img src="../2/low_pass_pandy.png" alt="low_pass_pandy">
                <figcaption>
                    <span class="main-caption">Low-Pass Filtered Pandy</span><br>
                </figcaption>
            </figure> 
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/merlinxpandy.png" alt="merlinxpandy">
                <figcaption>
                    <span class="main-caption">Hybrid Merlin x Pandy</span><br>
                </figcaption>
            </figure>
        </div>

    </section>

    <section class="project-section">
        <h2>2.3 Gaussian and Laplacian Stacks</h2>
        <br>
        <p>
            In this section, I implemented Gaussian and Laplacian Stacks. To do this, I convolved my images with Gaussian filters with increasing values of sigma in 6 iterations. This produced the layers of my Gaussian stack. Then, to get the Laplacian stack layers, I subtracted each level of the Gaussian stack from the level above it. 
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/apple_mask_1.png" alt="apple_mask_1">
            </figure>
            <figure>
                <img src="../2/orange_mask_1.png" alt="apple_mask_1">
            </figure>
            <figure>
                <img src="../2/blended_mask_1.png" alt="apple_mask_1">
            </figure>
            <figure>
                <img src="../2/apple_mask_2.png" alt="apple_mask_2">
            </figure>
            <figure>
                <img src="../2/orange_mask_2.png" alt="apple_mask_2">
            </figure>
            <figure>
                <img src="../2/blended_mask_.png" alt="apple_mask_2">
            </figure>
            <figure>
                <img src="../2/apple_mask_3.png" alt="apple_mask_3">
            </figure>
            <figure>
                <img src="../2/orange_mask_3.png" alt="apple_mask_3">
            </figure>
            <figure>
                <img src="../2/blended_mask_3.png" alt="apple_mask_3">
            </figure>
            <figure>
                <img src="../2/apple_mask_4.png" alt="apple_mask_4">
            </figure>
            <figure>
                <img src="../2/orange_mask_4.png" alt="apple_mask_4">
            </figure>
            <figure>
                <img src="../2/blended_mask_4.png" alt="apple_mask_4">
            </figure>
            <figure>
                <img src="../2/final_apple.png" alt="final_apple">
            </figure>
            <figure>
                <img src="../2/final_orange.png" alt="final_orange">
            </figure>
            <figure>
                <img src="../2/oraple.png" alt="oraple">
            </figure>
        </div>
    </section>
    
    <section class="project-section">
        <h2>2.4 Multiresolution Blending</h2>
        <br>
        <p>
            Here is the oraple again along with a few other images I blended together. I created one image using a horizontal seam and the final one using an ellipse (non-linear mask). 
        </p>
        <br>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/apple.jpg" alt="apple">
            </figure>
            <figure>
                <img src="../2/orange.jpg" alt="orange">
            </figure>
            <figure>
                <img src="../2/oraple_mask.png" alt="apple_mask_1">
            </figure>
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/oraple.png" alt="oraple">
            </figure>
        </div>

        <div class="image-grid cols-3">
            <figure>
                <img src="../2/beach.jpg" alt="beach">
            </figure>
            <figure>
                <img src="../2/space.jpg" alt="space">
            </figure>
            <figure>
                <img src="../2/beach_mask.png" alt="beach_mask">
            </figure>
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/spacexbeach.png" alt="spacexbeach">
            </figure>
        </div>

        <div class="image-grid cols-3">
            <figure>
                <img src="../2/hand.png" alt="hand">
            </figure>
            <figure>
                <img src="../2/eye.png" alt="eye">
            </figure>
            <figure>
                <img src="../2/eye_mask.png" alt="eye_mask">
            </figure>
        </div>
        <div class="image-grid cols-3">
            <figure>
                <img src="../2/eye_on_hand.png" alt="eye_on_hand">
            </figure>
        </div>
    </section>
</main>

<!-- Optional minimal helper styles if your stylesheet lacks grid classes
     You can paste these into styles.css if needed:

.image-grid { display: grid; gap: 1rem; }
.image-grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
.image-row { display: flex; gap: 1rem; flex-wrap: wrap; }
.image-row figure, .image-grid figure { margin: 0; }
img { max-width: 100%; height: auto; display: block; }

-->

</body>
</html>